# 服务基础配置
server:
  port: 8081  # 静态数据接口端口

# Netty TCP配置（文档2.1.1）
netty:
  tcp:
    port: 8080  # TCP上报端口
    boss-threads: 2
    worker-threads: 8

# AES加密配置（文档2.1.1）
aes:
  key-size: 128
  block-size: 16
  mode: CBC
  iv: "0000000000000000"  # 16个0的IV向量
  padding: PKCS7Padding
  service-key-map:  # serviceId与secretKey映射（省厅下发）
    c6314bc9888b4134bc9e6b989dd37679: "1234567890ABCDEF"  # 示例

# 数据库配置
spring:
  datasource:
    # 通过环境变量关联K8s MySQL服务
    url: jdbc:mysql://${MYSQL_HOST}:${MYSQL_PORT}/mines_server?useUnicode=true&characterEncoding=UTF-8&autoReconnect=true&useSSL=true&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: ${MYSQL_USERNAME:root}  # 从环境变量获取用户名
    password: ${MYSQL_PASSWORD:}      # 从环境变量获取密码
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: update  # 自动建表（开发环境）
    show-sql: true
    properties:
      hibernate:
        format_sql: true
  mvc:
    pathmatch:
      matching-strategy: ANT_PATH_MATCHER  # 强制使用旧的路径匹配策略
